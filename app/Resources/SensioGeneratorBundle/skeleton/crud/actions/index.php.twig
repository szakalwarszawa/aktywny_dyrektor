
    /**
{% block phpdoc_method_header %}
     * Lists all {{ entity }} entities.
{% endblock phpdoc_method_header %}
     *
{% block phpdoc_method_annotations %}
{% if 'annotation' == format %}
     * @Route("/", name="{{ route_name_prefix }}")
     * @Template()
{% endif %}
{% endblock phpdoc_method_annotations %}
     */
{% block method_definition %}
    public function indexAction()
{% endblock method_definition %}
    {
{% block method_body %}
    $em = $this->getDoctrine()->getManager();
    $entities = $em->getRepository('{{ bundle }}:{{ entity }}')->findAll();

    $source = new Entity('{{ bundle }}:{{ entity }}');

    $grid = $this->get('bgngrid');
    $grid->setSource($source);

    $rowAction = new RowAction(
        'Edit',
        '{{ route_name_prefix }}_edit',
        null,
        null,
        array(
        'icon'=>'fa fa-edit',
        'alt' => 'Edit {{ entity }}',
        ),
        null
    );
    
    $rowAction2 = new RowAction(
        'Delete',
        '{{ route_name_prefix }}_delete',
        null,
        null,
        array(
            'icon'=>'fa fa-close',
            'alt' => 'Delete {{entity}}',
        ),
        null
    );
    $rowAction->setColumn('actions');
    $rowAction2->setColumn('actions');
    $grid->addRowAction($rowAction);
    $grid->addRowAction($rowAction2);


{% endblock method_body %}

{% block method_return %}
        $grid->isReadyForRedirect();
{% if 'annotation' == format %}
        return array(
            'entities' => $entities,
            'grid' => $grid,
        );
{% else %}
        return $grid->getGridResponse('{{ bundle }}:{{ entity|replace({'\\': '/'}) }}:index.html.twig', array(
            'entities' => $entities,
            'grid' => $grid,
        ));
{% endif %}
{% endblock method_return %}
    }
